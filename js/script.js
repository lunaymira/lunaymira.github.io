!function (e) { function t(t) { for (var i, a, r = t[0], l = t[1], c = t[2], u = 0, h = []; u < r.length; u++)a = r[u], Object.prototype.hasOwnProperty.call(s, a) && s[a] && h.push(s[a][0]), s[a] = 0; for (i in l) Object.prototype.hasOwnProperty.call(l, i) && (e[i] = l[i]); for (d && d(t); h.length;)h.shift()(); return o.push.apply(o, c || []), n() } function n() { for (var e, t = 0; t < o.length; t++) { for (var n = o[t], i = !0, r = 1; r < n.length; r++) { var l = n[r]; 0 !== s[l] && (i = !1) } i && (o.splice(t--, 1), e = a(a.s = n[0])) } return e } var i = {}, s = { 0: 0 }, o = []; function a(t) { if (i[t]) return i[t].exports; var n = i[t] = { i: t, l: !1, exports: {} }; return e[t].call(n.exports, n, n.exports, a), n.l = !0, n.exports } a.m = e, a.c = i, a.d = function (e, t, n) { a.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, a.r = function (e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, a.t = function (e, t) { if (1 & t && (e = a(e)), 8 & t) return e; if (4 & t && "object" == typeof e && e && e.__esModule) return e; var n = Object.create(null); if (a.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: e }), 2 & t && "string" != typeof e) for (var i in e) a.d(n, i, function (t) { return e[t] }.bind(null, i)); return n }, a.n = function (e) { var t = e && e.__esModule ? function () { return e.default } : function () { return e }; return a.d(t, "a", t), t }, a.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, a.p = "/var/lib/jenkins/jobs/Total-Design/jobs/total-design-prod/workspace/web/app/themes/totaldesign/assets/"; var r = window.webpackJsonp = window.webpackJsonp || [], l = r.push.bind(r); r.push = t, r = r.slice(); for (var c = 0; c < r.length; c++)t(r[c]); var d = l; o.push([120, 1]), n() }({ 120: function (e, t, n) { "use strict"; n.r(t); n(74); var i, s = n(0), o = n.n(s), a = (function () { function e() { this.className = "has__last--item", this.count() } e.prototype.count = function () { var e = s(".overview__list-item--case"); e.each((function (t) { var n = s(this), i = n.offset().top, o = !!e.eq(t + 1)[0] && e.eq(t + 1).offset().top; n.removeClass("has__last--item"), (i < o || !o) && n.addClass("has__last--item") })) } }(), n(12), n(50), n(32), function () { function e(e) { return this.getCookie(e) } return e.prototype.getCookie = function (e) { var t = ("; " + document.cookie).split("; " + e + "="); if (2 === t.length) return t.pop().split(";").shift() }, e }()), r = function () { function e() { this.currentLanguage = new a("_icl_current_language"), this.wpmlLanguage = this.currentLanguage ? this.currentLanguage : "nl", this.isIE11 = !!navigator.userAgent.match(/Trident.*rv\:11\./), this.isIE11 && this.loadIEError() } var t = e.prototype; return t.isIE = function () { return this.isIE11 }, t.loadIEErrorResponse = function (e) { if (e.content.length > 0) { o()(".site__content").html(e.content), o()("footer.footer").remove(), o()(".nav--topbar").remove(); var t = o()(".header--topbar"); t.hasClass("color--white") || t.addClass("color--white") } }, t.loadIEError = function () { var e = { action: "ie_error", wpml_lang: this.wpmlLanguage }; o.a.post(ajaxurl, e, this.loadIEErrorResponse) }, e }(), l = (n(16), n(89), n(90), n(93), n(95), n(64), n(65), n(67), n(101), n(108), n(111), n(112), n(114), n(115), function (e, t, n) { var i, s = o()(window).height(), a = 50; i = n || o()(window).scrollTop(); for (var r = 0; r < window.aniArray.length; r++) { var l = aniArray[r], c = o()(l).offset().top; (o()(l).hasClass("block--cta") || o()(l).hasClass("overview__list-item--case") || o()(l).hasClass("scroll--item")) && (a = 150), i > c - s + a && !o()(l).hasClass("has__in--viewport") && o()(l).addClass("has__in--viewport") } }), c = function () { function e() { this.displayNextCarrousselImage = this.displayNextCarrousselImage.bind(this), this.onLoadCarrousselImage = this.onLoadCarrousselImage.bind(this), this.promiseNextCarrousselImage = this.promiseNextCarrousselImage.bind(this), this.nextArrayIndex = this.nextArrayIndex.bind(this), this.nextCarrousselIndex = this.nextCarrousselIndex.bind(this), this.init() } var t = e.prototype; return t.init = function () { var e = document.getElementById("carroussel_array"); e && (this.carroussel_array = e.getAttribute("data-array").split(","), this.carroussel_delay = e.getAttribute("data-delay"), this.carroussel_array_index = 0, this.carroussel_wrapper = document.getElementById("carroussel-about"), this.carroussel_wrapper && (this.carroussel = this.carroussel_wrapper.getElementsByTagName("li")), this.carroussel_index = 0, this.carroussel_array.length > this.carroussel.length && (this.carroussel_array_index = this.carroussel.length, this.promiseNextCarrousselImage())) }, t.promiseNextCarrousselImage = function () { var e = this.carroussel_array[this.carroussel_array_index]; if (isNaN(e)) this.displayNextCarrousselImage(e, !0); else { var t = { action: "carroussel_image", id: e }; o.a.post(ajaxurl, t, this.onLoadCarrousselImage) } }, t.onLoadCarrousselImage = function (e) { "content" in e && this.displayNextCarrousselImage(e.content) }, t.displayNextCarrousselImage = function (e, t) { void 0 === t && (t = !1); var n = this.htmlToElement(e), i = this.carroussel[this.carroussel_index]; this.carroussel_array[this.carroussel_array_index] = e, this.nextArrayIndex(), this.nextCarrousselIndex(), n.classList.add("fade-in"); var s = this; setTimeout((function () { i.append(n), setTimeout((function () { n.classList.remove("fade-in"), setTimeout((function () { i.firstChild.remove(), s.promiseNextCarrousselImage() }), 1100) }), 100) }), this.carroussel_delay + (t ? 1e3 : 0)) }, t.htmlToElement = function (e) { var t = document.createElement("template"); return e = e.trim(), t.innerHTML = e, t.content.firstChild }, t.nextArrayIndex = function () { this.carroussel_array_index++, this.carroussel_array_index >= this.carroussel_array.length && (this.carroussel_array_index = 0) }, t.nextCarrousselIndex = function () { this.carroussel_index++, this.carroussel_index >= this.carroussel.length && (this.carroussel_index = 0) }, e }(), d = (n(119), function () { function e() { if (this.filters = s(".td-case-filters a"), this.items = s(".overview__list--case .overview__list-item"), this.filters.length > 0 && this.items.length > 0) { this.addClickHandler(this); var e = this; setTimeout((function () { e.filters[0].click() }), s("body").hasClass("page_load") ? 1500 : 50) } this.addMobileFallback() } var t = e.prototype; return t.addClickHandler = function (e) { e.filters.click((function () { var t = s(this).attr("data-filter"), n = s(this).attr("title"); return e.filters.removeClass("active"), s(this).addClass("active"), e.items.css("transitionDelay", 0).addClass("filter_hide"), setTimeout((function () { e.items.filter(".filter_" + t).removeClass("filter_size"), e.items.not(".filter_" + t).addClass("filter_size"), setTimeout((function () { e.items.filter(".filter_" + t).each((function (e) { s(this).removeClass("filter_hide").css("transitionDelay", .1 * e + "s") })) }), 50) }), 500), s(".td-case-filters__list").removeClass("mobile_open"), s(".td-case-filters__button").val(n), !1 })) }, t.addMobileFallback = function () { s(".td-case-filters__button").click((function () { s(".td-case-filters__list").addClass("mobile_open") })) }, e }()), u = function () { o()(".button--cta").unbind("click").click((function () { o()(this).closest(".block--cta").find(".container--cta-action").toggleClass("active"), o()(this).addClass("unactive") })), o()("button.link--local").on("click", (function () { o()("body,html").animate({ scrollTop: o()("#block--team").offset().top - 50 }, 800) })) }; (i = o.a).fn.textfill = function (e) { function t() { o.debug && "undefined" != typeof console && void 0 !== console.debug && console.debug.apply(console, arguments) } function n(e, n, i, s, o, a) { function r(e, t) { var n = " / "; return e > t ? n = " > " : e == t && (n = " = "), n } t("[TextFill] " + e + " { font-size: " + n.css("font-size") + ",Height: " + n.height() + "px " + r(n.height(), i) + i + "px,Width: " + n.width() + r(n.width(), s) + s + ",minFontPixels: " + o + "px, maxFontPixels: " + a + "px }") } function s(e, t, i, s, o, a, r, l) { for (n(e, t, o, a, r, l); r < l - 1;) { var c = Math.floor((r + l) / 2); if (t.css("font-size", c), i.call(t) <= s) { if (r = c, i.call(t) == s) break } else l = c; n(e, t, o, a, r, l) } return t.css("font-size", l), i.call(t) <= s && n(e + "* ", t, o, a, r = l, l), r } var o = i.extend({ debug: !1, maxFontPixels: 40, minFontPixels: 4, innerTag: "span", widthOnly: !1, success: null, callback: null, fail: null, complete: null, explicitWidth: null, explicitHeight: null, changeLineHeight: !1 }, e); return t("[TextFill] Start Debug"), this.each((function () { var e = i(o.innerTag + ":visible:first", this), n = o.explicitHeight || i(this).height(), a = o.explicitWidth || i(this).width(), r = e.css("font-size"), l = parseFloat(e.css("line-height")) / parseFloat(r); t("[TextFill] Inner text: " + e.text()), t("[TextFill] All options: ", o), t("[TextFill] Maximum sizes: { Height: " + n + "px, Width: " + a + "px }"); var c = o.minFontPixels, d = 0 >= o.maxFontPixels ? n : o.maxFontPixels, u = void 0; o.widthOnly || (u = s("Height", e, i.fn.height, n, n, a, c, d)); var h = s("Width", e, i.fn.width, a, n, a, c, d); o.widthOnly ? (e.css({ "font-size": h, "white-space": "nowrap" }), o.changeLineHeight && e.parent().css("line-height", l * h + "px")) : (c = Math.min(u, h), e.css("font-size", c), o.changeLineHeight && e.parent().css("line-height", l * c + "px")), t("[TextFill] Finished { Old font-size: " + r + ", New font-size: " + e.css("font-size") + " }"), e.width() > a || e.height() > n && !o.widthOnly ? (e.css("font-size", r), o.fail && o.fail(this), t("[TextFill] Failure { Current Width: " + e.width() + ", Maximum Width: " + a + ", Current Height: " + e.height() + ", Maximum Height: " + n + " }")) : o.success ? o.success(this) : o.callback && (function () { "undefined" != typeof console && void 0 !== console.warn && console.warn.apply(console, arguments) }("callback is deprecated, use success, instead"), o.callback(this)) })), o.complete && o.complete(this), t("[TextFill] End Debug"), this }; var h = function () { o()(".payoff__content").textfill({ maxFontPixels: 58, minFontPixels: 24 }) }; function f(e, t) { var n; if ("undefined" == typeof Symbol || null == e[Symbol.iterator]) { if (Array.isArray(e) || (n = function (e, t) { if (!e) return; if ("string" == typeof e) return p(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return p(e, t) }(e)) || t && e && "number" == typeof e.length) { n && (e = n); var i = 0; return function () { return i >= e.length ? { done: !0 } : { done: !1, value: e[i++] } } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } return (n = e[Symbol.iterator]()).next.bind(n) } function p(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, i = new Array(t); n < t; n++)i[n] = e[n]; return i } function m(e) { var t = { page_type: e.type, nav: e.nav, content: e.content, title: e.title, id: e.id }; history.pushState(t, e.title, e.url), document.title = t.title, dataLayer.push({ event: !0 === e.is_scroll ? "ScrollViewEvent" : "PageViewEvent", pageurl: e.url, pagetitle: e.title }), g(e.is_scroll), function (e) { for (var t, n = f(o()(".nav__list li")); !(t = n()).done;) { var i = t.value, s = o()(i).find("a"); s && e === s.attr("href") ? o()(i).addClass("current-menu-item") : o()(i).removeClass("current-menu-item") } }(e.url), function (e, t) { void 0 === t && (t = !0); void 0 !== e && o()("body").removeClass().addClass(e); t ? o()("header").addClass("color--white") : o()("header").removeClass("color--white") }(e.bodyclass, e.black) } function g(e, t) { var n; void 0 === e && (e = !1), void 0 === t && (t = !1), window.aniArray = (n = [], o()(".animated--element").each((function () { n.push(this) })), n), l(), setTimeout((function () { h(), o()(".payoff__content").addClass("active") }), 650), t || (new c, new d, new u, e || window.scrollTo(0, 0)) } var v = function () { function e() { this.infScrollContent = [], this.observerOptions = { root: null, rootMargin: "0px", threshold: [0, .5, 1] } } var t = e.prototype; return t.addContent = function (e, t) { void 0 === t && (t = !1); var n = new _(e.id, e.title, e.url, e.content, e.type); this.infScrollContent.push(n), t || n.addToDOM() }, t.setCurrentContentById = function (e) { this.infScrollContent.forEach((function (t, n) { t.id === e && (t.url.match(/\/([^\/]+)\/?$/)[1] !== window.location.href.match(/\/([^\/]+)\/?$/)[1] && m({ page_type: t.type, content: t.content, title: t.title, id: t.id, url: t.url, is_scroll: !0 })) })) }, t.getContentById = function (e) { this.infScrollContent.forEach((function (t, n) { if (t.id === e) return t })) }, e }(), _ = function () { function e(e, t, n, i, s) { void 0 === s && (s = "case"), this.id = e, this.title = t, this.url = n, this.content = i, this.type = s, this.identifier = "case" === s ? "#block__case--" + this.id : '[data-page="' + this.id + '"]' } return e.prototype.addToDOM = function () { o()(".footer--nextcase").fadeIn().find("span").html(this.title), o()(".site__content").append(this.content), g(!0) }, e }(), y = function () { function e() { this.lastScrollTop = 0, this.handlers = [] } var t = e.prototype; return t.addHandler = function (e) { this.handlers.push(e) }, t.onScroll = function (e) { var t = s(window).scrollTop(), n = t > this.lastScrollTop ? "down" : "up"; this.lastScrollTop = t; this.handlers.forEach((function (i, s) { e.bubbles && i(e, n, t) })) }, e }(), b = function () { function e() { this.infScrollBuffer = 900, this.infScrollLoading = !1, this.currentLanguage = new a("_icl_current_language"), this.wpmlLanguage = this.currentLanguage ? this.currentLanguage : "nl", this.scrollContentHandler = new v, this.loadPreviousCaseResponse = this.loadPreviousCaseResponse.bind(this), this.loadPage = this.loadPage.bind(this), this.loadPageResponse = this.loadPageResponse.bind(this), this.initPageLoaderLinks = this.initPageLoaderLinks.bind(this), this.pageLoadAnimation = this.pageLoadAnimation.bind(this), this.pageScrollHandler = null, this.initPageLoaderLinks() } var t = e.prototype; return t.loadPreviousCase = function () { var e = o()(".load_previous_case"); if (e.length && !1 === this.infScrollLoading) { this.infScrollLoading = !0, e.removeClass("scroll_more"), e.removeClass("load_previous_case"); var t = { action: "previous_case", id: e.data("id"), wpml_lang: this.wpmlLanguage }; o.a.post(ajaxurl, t, this.loadPreviousCaseResponse) } }, t.loadPreviousCaseResponse = function (e) { Number.isInteger(e.id) && (this.scrollContentHandler.addContent(e), this.initPageLoaderLinks(), this.infScrollLoading = !1) }, t.loadPage = function (e) { if (!1 === this.infScrollLoading) { this.infScrollLoading = !0, this.pageLoadAnimation(); var t = this; o.a.post(e, (function (n) { t.loadPageResponse(n, e) })) } }, t.loadPageResponse = function (e, t) { var n = (new DOMParser).parseFromString(e, "text/html"), i = n.title, s = n.body.getAttribute("class") + " page_load", a = this.getPageType(s), r = s.includes("theme--black") || s.includes("single-td_case") || s.includes("tax-td_category") || s.includes("home"), l = n.getElementsByClassName("site__content"), c = n.getElementsByClassName("nav"), d = "", u = ""; l && (d = l[0].outerHTML.trim()), c && (u = c[0].outerHTML.trim()), o()(".site__content").replaceWith(l), o()(".nav").replaceWith(u), this.infScrollLoading = !1, this.pageLoadAnimation(!0), m({ page_type: a, nav: u, content: d, title: i, id: t, url: t, bodyclass: s, black: r }), this.initPageLoaderLinks(), ["home", "case"].includes(a) && this.initInfiniteScroll() }, t.initPageLoaderLinks = function () { var e = this; o()("a.page_load").click((function (t) { t.preventDefault(); var n = o()(this).attr("href"); e.loadPage(n) })) }, t.caseScrollHandler = function (e, t, n) { window.innerHeight + window.pageYOffset >= document.body.offsetHeight - this.infScrollBuffer && o()(".scroll_more").length > 0 && this.loadPreviousCase() }, t.unStickyRevealer = function () { o()(".block__case--revealer,.block__case--revealer .block__image--featured, .block__case--revealer,.block__case--revealer .overview__video--wrapper").css({ height: "100vh", position: "relative", top: 0, opacity: 1 }) }, t.unFooter = function () { var e = o()(".site__content").children().first(); e.is("footer") && e.remove() }, t.readProgressHandler = function (e, t, n) { var i = o()(".progress-reader:first .progress-bar"), s = o()(".site__content").find(".block__case--identifier")[0], a = n / (o()(s).height() - o()(window).height()) * 100; i.width(Math.min(a, 100) + "%"), 100 === Math.min(a, 100) ? i.addClass("invisible") : i.removeClass("invisible") }, t.nextCaseHandler = function (e, t, n, i) { var s = o()(".block__case--identifier"); if (s.length > 1) { var a = window.innerWidth > 0 ? window.innerWidth : screen.width; o()(s[1]).offset().top < n ? (o()(s[1]).find(".block__case--overlay").remove(), o()(s[1]).css("z-index", 3), o()(s[0]).remove(), this.unStickyRevealer(), o()("html, body").scrollTop(a > 480 ? 0 : 64), this.scrollContentHandler.setCurrentContentById(o()(s[1]).data("id"))) : a > 480 && o()(s[1]).find(".block__case--overlay").css("opacity", (o()(s[1]).offset().top - n) / o()(window).innerHeight()) } }, t.pageLoadAnimation = function (e) { void 0 === e && (e = !1); var t = o()("#ajax-page-loader"); e ? setTimeout((function () { t.addClass("loaded"), setTimeout((function () { t.addClass("cool-down"), setTimeout((function () { t.removeClass("cool-down"), t.removeClass("active"), t.removeClass("loaded") }), 100) }), 1e3) }), 1e3) : (t.addClass("active"), o()(".nav__list--topmenu").hasClass("open") && o()(".nav__trigger--mobile").click()) }, t.setScrollHandler = function (e) { this.pageScrollHandler = e, this.initInfiniteScroll() }, t.initInfiniteScroll = function () { if (o()(".single-td_case").length > 0) { var e = document.getElementsByTagName("title")[0].innerHTML, t = window.location.href, n = o()(".block__case--identifier").data("id"); this.pageScrollHandler.addHandler(this.caseScrollHandler.bind(this)), this.pageScrollHandler.addHandler(this.readProgressHandler.bind(this)), this.pageScrollHandler.addHandler(this.nextCaseHandler.bind(this)); var i = { id: n, title: e, url: t, content: null, type: "case" }; this.scrollContentHandler.addContent(i, !0) } }, t.infinitePop = function (e) { o()(".site__content").html(e.state.content), "page" === e.state.page_type ? this.unFooter() : this.unStickyRevealer(), g(!0), dataLayer.push({ event: "ScrollViewEvent", pageurl: e.state.url, pagetitle: e.state.title }) }, t.getPageType = function (e) { return e.includes("home") ? "home" : e.includes("single-td_case") ? "case" : "page" }, e }(); /^((?!chrome|android).)*safari/i.test(navigator.userAgent); var w, C = function (e, t, n) { var i = s(".tax-td_category .block__image--featured"), o = s(".tax-td_category .block--header"), a = 2 * function () { var e = window, t = document, n = t.documentElement, i = t.getElementsByTagName("body")[0], s = e.innerWidth || n.clientWidth || i.clientWidth, o = e.innerHeight || n.clientHeight || i.clientHeight; return { x: s, y: o } }().y / 5; s(window).width() > 767 && ("down" === t ? (n > 50 && (i.hasClass("offscreen") || i.addClass("offscreen")), n > a && (o.hasClass("offscreen") || o.addClass("offscreen"))) : (n < 50 && i.hasClass("offscreen") && i.removeClass("offscreen"), n < a && o.hasClass("offscreen") && o.removeClass("offscreen"))) }, x = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), k = function (e, t, n) { var i = s(".header--topbar"), o = i.outerHeight(); s(window).width() > 767 && ("down" === t ? n > o && (i.hasClass("offscreen active") ? i.removeClass("active").addClass("unactive") : i.addClass("offscreen unactive")) : n > o && i.hasClass("offscreen unactive") ? i.removeClass("unactive").addClass("active") : n < 1 && i.hasClass("offscreen active") && (i.removeClass("offscreen active"), x && i.hide().show(0))) }, L = function () { var e = o()(".nav__trigger--mobile"), t = o()(".nav__list--topmenu .nav__list--item").length, n = o()(".nav__list--topmenu"), i = o()(".site__content"), s = !0; e.click((function () { var e = o()(this); if (s) { if (s = !1, n.hasClass("open")) n.removeClass("open").slideUp(500), e.removeClass("open"), i.removeClass("mobile-menu--open"), setTimeout((function () { n.find(".nav__list--item").removeClass("active") }), 500); else { n.addClass("open").slideDown(500), e.addClass("open"), i.addClass("mobile-menu--open"); for (var a = function (e) { setTimeout((function () { n.find(".nav__list--item").eq(e).addClass("active") }), 125 * e) }, r = 0; r < t; r++)a(r) } setTimeout((function () { s = !0 }), 501) } })), o()(window).resize((function () { o()(window).width() > 768 ? n.css({ display: "block" }) : n.css({ display: "none" }) })) }, T = function () { o()(window).on("load", (function () { var e = window.location.href.split("#")[1]; o()("html,body").animate({ scrollTop: o()("#" + e).offset().top }, 2e3) })) }, S = function () { "ontouchstart" in document.documentElement && (document.documentElement.className += " touch", document.body.addEventListener("touchstart", (function () { }), !1)) }, H = function () { o()(".gform_button").on("click", (function () { var e, t; e = new OTMap, t = document.querySelector(".leadboxer input").value, e.put("email", t), OTLogService.sendEvent("Leadform submitted", e), console.log(t) })), o()("#mc-embedded-subscribe").on("click", (function () { var e, t; e = new OTMap, t = document.getElementById("mce-EMAIL").value, e.put("email", t), OTLogService.sendEvent("Mailchimp form submitted", e), console.log(t) })) }; s(document).ready((function () { w = new y, (new b).setScrollHandler(w), L(), H(), T(), g(), C(), w.addHandler(C), w.addHandler(k), w.addHandler(l), new r, new S })), s(window).resize((function (e) { g(!1, !0) })), s(window).scroll((function (e) { w && w.onScroll(e) })), window.addEventListener("popstate", (function (e) { location.reload() })) }, 74: function (e, t, n) { } });